{
  "name": "58ec8fbf-c419-4616-95e0-8e559e222102",
  "displayName": "ConfirmPage",
  "form": {
  
  },
  "transitionRoutes": [ {
    "intent": "ConfirmNo",
    "condition": "true",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Paylaşımı onaylamadınız. Yeni bir şikayet iletmek ister misiniz?" ]
        },
        "languageCode": "tr"
      }, {
        "payload": {
          "richContent": [ [ {
            "event": {
              "event": "Yes"
            },
            "icon": {
              "color": "#FF9800",
              "type": "chevron_right"
            },
            "mode": "blocking",
            "text": "Evet",
            "type": "button"
          }, {
            "event": {
              "event": "No"
            },
            "icon": {
              "color": "#FF9800",
              "type": "chevron_right"
            },
            "mode": "blocking",
            "text": "Hayır",
            "type": "button"
          } ] ]
        },
        "languageCode": "tr"
      } ],
      "setParameterActions": [ {
        "parameter": "mail_content",
        "value": null
      } ],
      "nextActionOverride": {
      
      }
    },
    "targetPage": "RouteComplaintmentPage",
    "name": "1d427f1f-c4ab-4b1a-bb06-b43606e42438"
  }, {
    "intent": "ConfirmYes",
    "condition": "true",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Konu : $session.params.mail_subject\nİçerik : $session.params.mail_content\nEn yakın zamanda size dönüş yapılacaktır. Size başka bir konuda daha yardımcı olabilir miyim?" ]
        },
        "languageCode": "tr"
      }, {
        "payload": {
          "richContent": [ [ {
            "event": {
              "event": "NewSessionYes"
            },
            "icon": {
              "color": "#FF9800",
              "type": "chevron_right"
            },
            "mode": "blocking",
            "text": "Evet",
            "type": "button"
          }, {
            "event": {
              "event": "NewSessionNo"
            },
            "icon": {
              "color": "#FF9800",
              "type": "chevron_right"
            },
            "mode": "blocking",
            "text": "Hayır",
            "type": "button"
          } ] ]
        },
        "languageCode": "tr"
      } ],
      "webhook": "send_mail_ik",
      "tag": "Mail Gönderildi.",
      "nextActionOverride": {
      
      }
    },
    "targetFlow": "TransitionFlow",
    "name": "58b54b34-6cce-4b11-b37b-61e74f1c7749"
  } ],
  "eventHandlers": [ {
    "targetPage": "End Flow",
    "event": "webhook.error",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Mailiniz gönderilirken bir hata oluştu." ]
        },
        "languageCode": "tr"
      } ],
      "nextActionOverride": {
      
      }
    },
    "name": "4da2d395-99f0-4014-9fcd-edb004a1509c"
  }, {
    "targetFlow": "TransitionFlow",
    "event": "ApproveYes",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Konu : $session.params.mail_subject\r\nİçerik : $session.params.mail_content\r\nEn yakın zamanda size dönüş yapılacaktır. Size başka bir konuda daha yardımcı olabilir miyim?" ]
        },
        "languageCode": "tr"
      }, {
        "payload": {
          "richContent": [ [ {
            "event": {
              "event": "NewSessionYes"
            },
            "icon": {
              "color": "#FF9800",
              "type": "chevron_right"
            },
            "mode": "blocking",
            "text": "Evet",
            "type": "button"
          }, {
            "event": {
              "event": "NewSessionNo"
            },
            "icon": {
              "color": "#FF9800",
              "type": "chevron_right"
            },
            "mode": "blocking",
            "text": "Hayır",
            "type": "button"
          } ] ]
        },
        "languageCode": "tr"
      } ],
      "webhook": "send_mail_ik",
      "tag": "Mail Gönderildi.",
      "setParameterActions": [ {
        "parameter": "$session.params.selectedoption",
        "value": "ApproveYes"
      } ]
    },
    "name": "8cd334fa-b53c-4d25-81f8-44c09461994b"
  }, {
    "targetPage": "RouteComplaintmentPage",
    "event": "ApproveNo",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Paylaşımı onaylamadınız. Yeni bir şikayet iletmek ister misiniz?" ]
        },
        "languageCode": "tr"
      }, {
        "payload": {
          "richContent": [ [ {
            "event": {
              "event": "Yes"
            },
            "icon": {
              "color": "#FF9800",
              "type": "chevron_right"
            },
            "mode": "blocking",
            "text": "Evet",
            "type": "button"
          }, {
            "event": {
              "event": "No"
            },
            "icon": {
              "color": "#FF9800",
              "type": "chevron_right"
            },
            "mode": "blocking",
            "text": "Hayır",
            "type": "button"
          } ] ]
        },
        "languageCode": "tr"
      } ],
      "setParameterActions": [ {
        "parameter": "$session.params.selectedoption",
        "value": "ApproveNo"
      }, {
        "parameter": "mail_content",
        "value": null
      } ]
    },
    "name": "fe0ead3b-22ca-4ac5-9c65-29e0b030425a"
  } ]
}
